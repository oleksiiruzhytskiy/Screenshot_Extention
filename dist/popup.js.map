{"version":3,"file":"popup.js","mappings":"yDAAO,IAAMA,EAAM,WAInB,C,GCHIC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAI,CAACH,EAASI,KACjC,IAAI,IAAIC,KAAOD,EACXR,EAAoBU,EAAEF,EAAYC,KAAST,EAAoBU,EAAEN,EAASK,IAC5EE,OAAOC,eAAeR,EAASK,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDT,EAAoBU,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,G,ICA9EI,EAAIC,E,SAEFC,EAA8B,SAACC,GAC5BA,EAILC,OAAOC,QAAQC,MAAMC,IAAI,CAAEC,WAAYL,IAAW,YAC9CzB,EAAAA,EAAAA,GAAI,0BACJA,EAAAA,EAAAA,GAAI,gCAAiCyB,GACrCC,OAAOK,KAAKC,OAAO,CAAEC,IAAK,eAC9B,KAPIjC,EAAAA,EAAAA,GAAI,gCAQZ,EACmD,QAAlDsB,EAAKY,SAASC,eAAe,uBAAoC,IAAPb,GAAyBA,EAAGc,iBAAiB,SAAS,WAC7GC,YAAW,WACgBH,SAASI,cAAc,sBAE1CJ,SAASK,KAAKC,MAAMC,QAAU,OAEtC,GAAG,KACHf,OAAOgB,QAAQC,YAAY,CAAEC,OAAQ,oBACrC5C,EAAAA,EAAAA,GAAI,oDACR,IACA0B,OAAOgB,QAAQG,UAAUC,aAAY,SAACC,GACX,uBAAnBA,EAAQH,OACRpB,EAA4BuB,EAAQtB,SAEZ,iBAAnBsB,EAAQH,SACb5C,EAAAA,EAAAA,GAAI,kBAAmB+C,EAAQC,MAEvC,IACAtB,OAAOgB,QAAQG,UAAUC,aAAY,SAACC,GACX,iBAAnBA,EAAQH,SACR5C,EAAAA,EAAAA,GAAI,4DAA6D+C,EAAQC,MAEjF,IACoD,QAAnDzB,EAAKW,SAASC,eAAe,wBAAqC,IAAPZ,GAAyBA,EAAGa,iBAAiB,SAAS,WAC9GV,OAAOK,KAAKkB,kBAAkB,CAAEC,OAAQ,OAAS1B,EACrD,G","sources":["webpack://screenshot_extention/./src/utils/logger.ts","webpack://screenshot_extention/webpack/bootstrap","webpack://screenshot_extention/webpack/runtime/define property getters","webpack://screenshot_extention/webpack/runtime/hasOwnProperty shorthand","webpack://screenshot_extention/./src/popup.ts"],"sourcesContent":["export const log = (...args) => {\n    if (process.env.NODE_ENV === \"development\") {\n        console.log(...args);\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var _a, _b;\nimport { log } from \"./utils/logger\";\nconst saveScreenshotAndOpenEditor = (dataUrl) => {\n    if (!dataUrl) {\n        log(\"❌ Ошибка: пустое изображение.\");\n        return;\n    }\n    chrome.storage.local.set({ screenshot: dataUrl }, () => {\n        log(\"📷 Скриншот сохранен!\");\n        log(\"Set local storage screenshot:\", dataUrl);\n        chrome.tabs.create({ url: \"editor.html\" });\n    });\n};\n(_a = document.getElementById(\"windowButton\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"click\", () => {\n    setTimeout(() => {\n        const popupContainer = document.querySelector(\".popup-container\");\n        if (popupContainer) {\n            document.body.style.display = \"none\";\n        }\n    }, 300);\n    chrome.runtime.sendMessage({ action: \"requestCapture\" });\n    log(\"Click on Window and send message /requestCapture/\");\n});\nchrome.runtime.onMessage.addListener((message) => {\n    if (message.action === \"screenshotCaptured\") {\n        saveScreenshotAndOpenEditor(message.dataUrl);\n    }\n    else if (message.action === \"captureError\") {\n        log(\"Ошибка захвата:\", message.error);\n    }\n});\nchrome.runtime.onMessage.addListener((message) => {\n    if (message.action === \"captureError\") {\n        log(\"❌ Ошибка захвата при считывании сообщения /captureError/:\", message.error);\n    }\n});\n(_b = document.getElementById(\"captureButton\")) === null || _b === void 0 ? void 0 : _b.addEventListener(\"click\", () => {\n    chrome.tabs.captureVisibleTab({ format: \"png\" }, saveScreenshotAndOpenEditor);\n});\n"],"names":["log","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_a","_b","saveScreenshotAndOpenEditor","dataUrl","chrome","storage","local","set","screenshot","tabs","create","url","document","getElementById","addEventListener","setTimeout","querySelector","body","style","display","runtime","sendMessage","action","onMessage","addListener","message","error","captureVisibleTab","format"],"sourceRoot":""}